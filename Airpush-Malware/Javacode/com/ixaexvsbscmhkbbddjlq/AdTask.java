package com.ixaexvsbscmhkbbddjlq;

import android.app.Activity;
import android.content.Context;
import android.net.ConnectivityManager;
import android.os.AsyncTask;
import java.util.List;
import java.util.Random;
import org.json.JSONObject;

public class AdTask extends AsyncTask {
    private AdController f130a;
    private Activity f131b;
    private Context f132c;
    private String f133d;
    private String f134e;
    private List f135f;
    private JSONObject f136g;
    private boolean f137h = false;
    private String f138i;
    private String f139j;

    public AdTask(AdController adController, Activity activity, String str, String str2) {
        this.f130a = adController;
        this.f131b = activity;
        this.f133d = str;
        this.f138i = str2;
    }

    public AdTask(AdController adController, Context context, String str, String str2, String str3) {
        this.f130a = adController;
        this.f132c = context;
        this.f133d = str;
        this.f138i = str2;
        this.f139j = str3;
    }

    private String m124a() {
        try {
            int nextInt = new Random().nextInt(350) + 250;
            AdLog.m106d(AdController.LB_LOG, "Going to halt for " + nextInt + "ms");
            Thread.sleep((long) nextInt);
        } catch (Exception e) {
        }
        if (((ConnectivityManager) (this.f132c != null ? this.f132c : this.f131b).getSystemService("connectivity")).getActiveNetworkInfo() != null) {
            AdRequest adRequest = this.f138i.equals("ad") ? new AdRequest(this.f131b, this.f133d) : this.f138i.equals("idle") ? new AdRequest(this.f131b, this.f133d, "idle", null) : this.f138i.equals("audio") ? new AdRequest(this.f131b.getApplicationContext(), this.f133d, "audio", null) : new AdRequest(this.f132c, this.f133d, this.f138i, this.f139j);
            adRequest.setSubId(this.f134e);
            adRequest.setTokens(this.f135f);
            adRequest.setUseLocation(this.f137h);
            this.f136g = adRequest.makeLBRequest();
        }
        return null;
    }

    protected /* synthetic */ Object doInBackground(Object[] objArr) {
        return m124a();
    }

    protected void onCancelled() {
        AdLog.m106d(AdController.LB_LOG, "AdTask cancelled");
        super.onCancelled();
    }

    protected /* synthetic */ void onPostExecute(Object obj) {
        if (this.f130a != null && this.f136g != null) {
            this.f130a.setResults(this.f136g);
            if (this.f138i.equals("ad") || this.f138i.equals("audio")) {
                this.f130a.adInitialized();
            } else if (this.f138i.equals("idle")) {
                this.f130a.idleAdInitialized();
            } else if (this.f138i.equals("notification")) {
                this.f130a.notificationInitialized();
            } else if (this.f138i.equals(IConstants.ICON)) {
                this.f130a.iconInitialized();
            }
        } else if (this.f130a != null) {
            this.f130a.triggerAdFailed();
            AdLog.m107e(AdController.LB_LOG, "Failed to get results from server");
        }
    }

    protected void onPreExecute() {
        super.onPreExecute();
    }

    public void setSubId(String str) {
        this.f134e = str;
    }

    public void setTokens(List list) {
        this.f135f = list;
    }

    public void setUseLocation(boolean z) {
        this.f137h = z;
    }
}
