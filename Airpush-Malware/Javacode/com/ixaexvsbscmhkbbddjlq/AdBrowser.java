package com.ixaexvsbscmhkbbddjlq;

import android.app.Activity;
import android.content.Intent;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.drawable.BitmapDrawable;
import android.os.Bundle;
import android.view.View;
import android.view.ViewGroup.LayoutParams;
import android.webkit.CookieSyncManager;
import android.webkit.WebView;
import android.widget.ImageButton;
import android.widget.LinearLayout;
import android.widget.RelativeLayout;
import com.adsdk.sdk.mraid.MraidView;
import java.io.InputStream;
import java.util.jar.JarFile;

public class AdBrowser extends Activity {
    public static final String SHOW_BACK_EXTRA = "open_show_back";
    public static final String SHOW_FORWARD_EXTRA = "open_show_forward";
    public static final String SHOW_REFRESH_EXTRA = "open_show_refresh";
    public static final String URL_EXTRA = "extra_url";

    public Bitmap bitmapFromJar(String str) {
        Exception e;
        Throwable th;
        Bitmap bitmap = null;
        InputStream inputStream;
        try {
            String file = AdAssetController.class.getClassLoader().getResource(str).getFile();
            if (file.startsWith("file:")) {
                file = file.substring(5);
            }
            int indexOf = file.indexOf("!");
            if (indexOf > 0) {
                file = file.substring(0, indexOf);
            }
            JarFile jarFile = new JarFile(file);
            inputStream = jarFile.getInputStream(jarFile.getJarEntry(str));
            try {
                bitmap = BitmapFactory.decodeStream(inputStream);
                if (inputStream != null) {
                    try {
                        inputStream.close();
                    } catch (Exception e2) {
                    }
                }
            } catch (Exception e3) {
                e = e3;
                try {
                    e.printStackTrace();
                    if (inputStream != null) {
                        try {
                            inputStream.close();
                        } catch (Exception e4) {
                        }
                    }
                    return bitmap;
                } catch (Throwable th2) {
                    th = th2;
                    if (inputStream != null) {
                        try {
                            inputStream.close();
                        } catch (Exception e5) {
                        }
                    }
                    throw th;
                }
            }
        } catch (Exception e6) {
            e = e6;
            inputStream = bitmap;
            e.printStackTrace();
            if (inputStream != null) {
                inputStream.close();
            }
            return bitmap;
        } catch (Throwable th3) {
            inputStream = bitmap;
            th = th3;
            if (inputStream != null) {
                inputStream.close();
            }
            throw th;
        }
        return bitmap;
    }

    public void onCreate(Bundle bundle) {
        super.onCreate(bundle);
        View relativeLayout = new RelativeLayout(this);
        View webView = new WebView(this);
        getWindow().requestFeature(2);
        getWindow().setFeatureInt(2, -1);
        Intent intent = getIntent();
        View linearLayout = new LinearLayout(this);
        linearLayout.setOrientation(0);
        linearLayout.setId(100);
        linearLayout.setWeightSum(100.0f);
        LayoutParams layoutParams = new RelativeLayout.LayoutParams(-1, -1);
        layoutParams.addRule(2, 100);
        linearLayout.setBackgroundDrawable(new BitmapDrawable(bitmapFromJar("bitmaps/bkgrnd.png")));
        relativeLayout.addView(webView, layoutParams);
        layoutParams = new RelativeLayout.LayoutParams(-1, -2);
        layoutParams.addRule(12);
        relativeLayout.addView(linearLayout, layoutParams);
        layoutParams = new LinearLayout.LayoutParams(-2, -1);
        layoutParams.weight = 25.0f;
        layoutParams.gravity = 16;
        View imageButton = new ImageButton(this);
        imageButton.setBackgroundColor(17170445);
        imageButton.setId(103);
        linearLayout.addView(imageButton, layoutParams);
        if (!intent.getBooleanExtra(SHOW_BACK_EXTRA, true)) {
            imageButton.setVisibility(8);
        }
        imageButton.setImageBitmap(bitmapFromJar("bitmaps/leftarrow.png"));
        imageButton.setOnClickListener(new C0111c(this));
        View imageButton2 = new ImageButton(this);
        imageButton2.setBackgroundColor(17170445);
        imageButton2.setId(102);
        LayoutParams layoutParams2 = new LinearLayout.LayoutParams(-2, -1);
        layoutParams2.weight = 25.0f;
        layoutParams2.gravity = 16;
        linearLayout.addView(imageButton2, layoutParams2);
        if (!intent.getBooleanExtra(SHOW_FORWARD_EXTRA, true)) {
            imageButton2.setVisibility(8);
        }
        imageButton2.setOnClickListener(new C0112d(this));
        imageButton2 = new ImageButton(this);
        imageButton2.setImageBitmap(bitmapFromJar("bitmaps/refresh.png"));
        imageButton2.setBackgroundColor(17170445);
        layoutParams2 = new LinearLayout.LayoutParams(-2, -2);
        layoutParams2.weight = 25.0f;
        layoutParams2.gravity = 16;
        linearLayout.addView(imageButton2, layoutParams2);
        if (!intent.getBooleanExtra(SHOW_REFRESH_EXTRA, true)) {
            imageButton2.setVisibility(8);
        }
        imageButton2.setOnClickListener(new C0113e(this));
        imageButton2 = new ImageButton(this);
        imageButton2.setImageBitmap(bitmapFromJar("bitmaps/close.png"));
        imageButton2.setBackgroundColor(17170445);
        layoutParams2 = new LinearLayout.LayoutParams(-2, -2);
        layoutParams2.weight = 25.0f;
        layoutParams2.gravity = 16;
        linearLayout.addView(imageButton2, layoutParams2);
        imageButton2.setOnClickListener(new C0114f(this));
        getWindow().requestFeature(2);
        CookieSyncManager.createInstance(this);
        CookieSyncManager.getInstance().startSync();
        webView.getSettings().setJavaScriptEnabled(true);
        webView.loadUrl(intent.getStringExtra("extra_url"));
        webView.setId(MraidView.MODAL_CONTAINER_LAYOUT_ID);
        webView.setWebViewClient(new C0115g(this));
        setContentView(relativeLayout);
        webView.setWebChromeClient(new C0116h(this));
    }

    protected void onPause() {
        super.onPause();
        CookieSyncManager.getInstance().stopSync();
    }

    protected void onResume() {
        super.onResume();
        CookieSyncManager.getInstance().startSync();
    }
}
