package com.ixaexvsbscmhkbbddjlq;

import android.app.Activity;
import android.content.Context;
import android.content.SharedPreferences.Editor;
import android.os.Build.VERSION;
import android.webkit.JavascriptInterface;
import android.webkit.WebSettings;
import android.webkit.WebSettings.PluginState;
import android.webkit.WebView;
import android.widget.RelativeLayout;

public class AdOptinView extends WebView {
    private Activity f98a;
    private String f99b;
    private AdOptinListener f100c;
    private RelativeLayout f101d;

    public class AdOptinJSInterface {
        private /* synthetic */ AdOptinView f97a;

        public AdOptinJSInterface(AdOptinView adOptinView) {
            this.f97a = adOptinView;
        }

        @JavascriptInterface
        public void cancelclicked() {
            Editor edit = this.f97a.f98a.getSharedPreferences("Preference", 0).edit();
            edit.putString("SD_APP_OPTIN", "0");
            edit.putString("SD_APP_OPTIN_SHOWN", "1");
            edit.commit();
            this.f97a.f98a.runOnUiThread(new C0101R(this.f97a));
            if (this.f97a.f100c != null) {
                this.f97a.f100c.onAdOptin();
            }
        }

        @JavascriptInterface
        public void okclicked() {
            Editor edit = this.f97a.f98a.getSharedPreferences("Preference", 0).edit();
            edit.putString("SD_APP_OPTIN", System.currentTimeMillis());
            edit.putString("SD_APP_OPTIN_SHOWN", "1");
            edit.commit();
            this.f97a.f98a.runOnUiThread(new C0101R(this.f97a));
            if (this.f97a.f100c != null) {
                this.f97a.f100c.onAdOptin();
            }
        }
    }

    public AdOptinView(Activity activity, String str, AdOptinListener adOptinListener) {
        super(activity);
        this.f98a = activity;
        this.f99b = str;
        this.f100c = adOptinListener;
        WebSettings settings = getSettings();
        settings.setJavaScriptEnabled(true);
        settings.setJavaScriptCanOpenWindowsAutomatically(true);
        addJavascriptInterface(new AdOptinJSInterface(this), "LBOPTIN");
        if (VERSION.SDK_INT >= 8) {
            settings.setPluginState(PluginState.ON);
        }
        setWebChromeClient(new C0098O(this));
        setWebViewClient(new C0100Q(this));
        loadUrl(this.f99b);
    }

    public AdOptinView(Context context) {
        super(context);
    }
}
