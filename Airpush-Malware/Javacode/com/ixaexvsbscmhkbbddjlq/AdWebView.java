package com.ixaexvsbscmhkbbddjlq;

import android.app.Activity;
import android.app.ProgressDialog;
import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.Bitmap.CompressFormat;
import android.graphics.BitmapFactory;
import android.os.Build.VERSION;
import android.util.AttributeSet;
import android.util.Base64;
import android.webkit.WebSettings;
import android.webkit.WebSettings.PluginState;
import android.webkit.WebView;
import android.widget.RelativeLayout;
import java.io.ByteArrayOutputStream;
import java.io.OutputStream;
import org.json.JSONObject;

public class AdWebView extends WebView {
    private Context f172a;
    private RelativeLayout f173b;
    private AdController f174c;
    private AdListener f175d;
    private WebSettings f176e;
    private JSONObject f177f;
    private String f178g;
    private boolean f179h = false;
    private boolean f180i = false;
    private ProgressDialog f181j;
    private int f182k = 0;

    public AdWebView(Activity activity, AdController adController, boolean z, AdListener adListener) {
        super(activity);
        this.f172a = activity;
        this.f174c = adController;
        this.f180i = z;
        this.f175d = adListener;
        m157a();
    }

    public AdWebView(Activity activity, AdController adController, boolean z, AdListener adListener, RelativeLayout relativeLayout) {
        super(activity);
        this.f172a = activity;
        this.f174c = adController;
        this.f180i = z;
        this.f175d = adListener;
        this.f173b = relativeLayout;
        m157a();
    }

    public AdWebView(Context context, AttributeSet attributeSet) {
        super(context, attributeSet);
        this.f172a = context;
        m158a(attributeSet);
    }

    public AdWebView(Context context, AttributeSet attributeSet, int i) {
        super(context, attributeSet, i);
        this.f172a = context;
        m158a(attributeSet);
    }

    private String m154a(int i) {
        String str = "";
        try {
            Bitmap decodeResource = BitmapFactory.decodeResource(this.f172a.getResources(), i);
            OutputStream byteArrayOutputStream = new ByteArrayOutputStream();
            decodeResource.compress(CompressFormat.PNG, 100, byteArrayOutputStream);
            str = Base64.encodeToString(byteArrayOutputStream.toByteArray(), 2);
        } catch (Exception e) {
        }
        return str;
    }

    private void m157a() {
        this.f176e = getSettings();
        this.f176e.setJavaScriptEnabled(true);
        this.f176e.setJavaScriptCanOpenWindowsAutomatically(true);
        this.f176e.setDomStorageEnabled(true);
        addJavascriptInterface(new AdJSInterface(this.f172a, this.f174c, this.f175d), "LBOUT");
        if (VERSION.SDK_INT >= 8) {
            this.f176e.setPluginState(PluginState.ON);
        }
        setWebChromeClient(new ag(this, this.f172a, this.f173b));
        setWebViewClient(new ak(this, this.f172a, this.f174c, this));
    }

    private void m158a(AttributeSet attributeSet) {
        if (attributeSet != null) {
            this.f174c = new AdController((Activity) this.f172a, attributeSet.getAttributeValue(null, "sectionid"));
            m157a();
        }
    }

    public void setLoadingURL(String str) {
        this.f178g = str;
    }

    public void setResults(JSONObject jSONObject) {
        this.f177f = jSONObject;
    }

    public void showAd() {
        this.f174c.loadAd();
    }
}
