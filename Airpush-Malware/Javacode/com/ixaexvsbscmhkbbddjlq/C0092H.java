package com.ixaexvsbscmhkbbddjlq;

import android.os.AsyncTask;
import java.io.InputStream;
import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.HttpClient;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;

final class C0092H extends AsyncTask {
    private /* synthetic */ AdController f209a;

    private C0092H(AdController adController) {
        this.f209a = adController;
    }

    private String m175a(String... strArr) {
        String str = "0";
        if (strArr[0] == null) {
            return str;
        }
        AdLog.m106d(AdController.LB_LOG, "Polling...");
        try {
            HttpClient defaultHttpClient = new DefaultHttpClient();
            if (this.f209a.aq == null) {
                this.f209a.aq = this.f209a.f68t;
            }
            HttpResponse execute = defaultHttpClient.execute(new HttpGet(strArr[0] + this.f209a.aq));
            if (execute.getStatusLine().getStatusCode() != 200) {
                return str;
            }
            HttpEntity entity = execute.getEntity();
            if (entity == null) {
                return str;
            }
            InputStream content = entity.getContent();
            str = AdUtils.convertStreamToString(content);
            AdLog.m106d(AdController.LB_LOG, "Polling Result - " + str);
            content.close();
            return str;
        } catch (Exception e) {
            return str;
        }
    }

    protected final /* synthetic */ Object doInBackground(Object[] objArr) {
        return m175a((String[]) objArr);
    }

    protected final /* synthetic */ void onPostExecute(Object obj) {
        String str = (String) obj;
        if (this.f209a.f63o != null && this.f209a.f63o.isShowing()) {
            this.f209a.f63o.dismiss();
        }
        this.f209a.f37O = this.f209a.f37O + 1;
        if (str.contains("0")) {
            try {
                if (this.f209a.f37O > this.f209a.f38P || this.f209a.f37O >= this.f209a.f39Q) {
                    this.f209a.m52d();
                } else {
                    this.f209a.ai.postDelayed(this.f209a.ah, (long) (this.f209a.f57i.getInt("pollinterval") * 1000));
                }
            } catch (Exception e) {
            }
        } else if (str.contains("1")) {
            this.f209a.f58j = true;
            this.f209a.m55e();
            if (this.f209a.ak != null) {
                try {
                    AdLog.m108i(AdController.LB_LOG, "onAdCompleted triggered");
                    this.f209a.ak.onAdCompleted();
                } catch (Exception e2) {
                    AdLog.m107e(AdController.LB_LOG, "error when onAdCompleted triggered");
                    AdLog.printStackTrace(AdController.LB_LOG, e2);
                }
            }
        }
    }
}
