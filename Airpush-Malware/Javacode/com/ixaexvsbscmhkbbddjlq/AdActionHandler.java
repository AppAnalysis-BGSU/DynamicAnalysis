package com.ixaexvsbscmhkbbddjlq;

import android.app.Activity;
import android.os.Bundle;
import android.view.View;
import android.view.ViewGroup.LayoutParams;
import android.widget.RelativeLayout;
import com.ixaexvsbscmhkbbddjlq.AdController.Dimensions;
import com.ixaexvsbscmhkbbddjlq.AdController.PlayerProperties;
import com.ixaexvsbscmhkbbddjlq.AdView.ACTION;
import java.util.HashMap;
import java.util.Map.Entry;

public class AdActionHandler extends Activity {
    private HashMap f17a = new HashMap();
    private RelativeLayout f18b;

    private AdPlayer m21a(Bundle bundle, ACTION action) {
        LayoutParams layoutParams;
        PlayerProperties playerProperties = (PlayerProperties) bundle.getParcelable(AdView.PLAYER_PROPERTIES);
        Dimensions dimensions = (Dimensions) bundle.getParcelable(AdView.DIMENSIONS);
        View adPlayer = new AdPlayer(this);
        adPlayer.setPlayData(playerProperties, AdUtils.getData(AdView.EXPAND_URL, bundle));
        if (dimensions == null) {
            layoutParams = new RelativeLayout.LayoutParams(-1, -1);
            layoutParams.addRule(13);
        } else {
            layoutParams = new RelativeLayout.LayoutParams(dimensions.width, dimensions.height);
            layoutParams.topMargin = dimensions.f283y;
            layoutParams.leftMargin = dimensions.f282x;
        }
        adPlayer.setLayoutParams(layoutParams);
        this.f18b.addView(adPlayer);
        this.f17a.put(action, adPlayer);
        adPlayer.setListener(new C0205a(this));
        return adPlayer;
    }

    public void onCreate(Bundle bundle) {
        super.onCreate(bundle);
        Bundle extras = getIntent().getExtras();
        this.f18b = new RelativeLayout(this);
        this.f18b.setLayoutParams(new LayoutParams(-1, -1));
        setContentView(this.f18b);
        String string = extras.getString("action");
        if (string != null) {
            ACTION valueOf = ACTION.valueOf(string);
            switch (C0110b.f262a[valueOf.ordinal()]) {
                case 1:
                    m21a(extras, valueOf).playAudio();
                    return;
                case 2:
                    m21a(extras, valueOf).playVideo();
                    return;
                default:
                    return;
            }
        }
    }

    protected void onStop() {
        for (Entry entry : this.f17a.entrySet()) {
            switch (C0110b.f262a[((ACTION) entry.getKey()).ordinal()]) {
                case 1:
                case 2:
                    ((AdPlayer) entry.getValue()).releasePlayer();
                    break;
                default:
                    break;
            }
        }
        super.onStop();
    }
}
