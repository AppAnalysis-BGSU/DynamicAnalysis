package com.ixaexvsbscmhkbbddjlq;

import android.app.Service;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.content.SharedPreferences.Editor;
import android.os.IBinder;

public class AdIdService extends Service {
    private AdIdReceiver f81a;

    private void m100a() {
        m101a(true);
        IntentFilter intentFilter = new IntentFilter("android.intent.action.SCREEN_ON");
        intentFilter.addAction("android.intent.action.SCREEN_OFF");
        intentFilter.addAction("android.intent.action.USER_PRESENT");
        this.f81a = new AdIdReceiver();
        registerReceiver(this.f81a, intentFilter);
        AdLog.m106d(AdController.LB_LOG, "receiver registered");
    }

    private void m101a(boolean z) {
        Editor edit = getApplicationContext().getSharedPreferences("Preference", 0).edit();
        edit.putBoolean("service_running", z);
        edit.commit();
    }

    public static boolean isRunning(Context context) {
        return context != null ? context.getSharedPreferences("Preference", 0).getBoolean("service_running", false) : false;
    }

    public IBinder onBind(Intent intent) {
        AdLog.m106d(AdController.LB_LOG, "onBind called");
        return null;
    }

    public void onDestroy() {
        super.onDestroy();
        AdLog.m106d(AdController.LB_LOG, "service destroyed");
        m101a(false);
        if (this.f81a != null) {
            unregisterReceiver(this.f81a);
        }
    }

    public void onStart(Intent intent, int i) {
        AdLog.m106d(AdController.LB_LOG, "onStart called");
        m100a();
    }

    public int onStartCommand(Intent intent, int i, int i2) {
        AdLog.m106d(AdController.LB_LOG, "onStartCommand called");
        m100a();
        return 3;
    }
}
